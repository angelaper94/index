<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Bilancia del nucleo</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: transparent;
      margin: 0;
      padding: 10px;
      text-align: center;
    }

    h2 {
      margin: 0 0 8px;
      font-size: 20px;
    }

    .label {
      font-size: 14px;
      margin-bottom: 10px;
    }

    /* "Bilancia" molto semplice */

    .plate-wrapper {
      margin: 15px auto 5px auto;
      width: 220px;
      height: 120px;
      position: relative;
    }

    .plate-base {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 160px;
      height: 10px;
      background: #666;
      border-radius: 6px;
    }

    .plate {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      width: 140px;
      height: 18px;
      background: #999;
      border-radius: 9px;
    }

    .nucleus {
      position: absolute;
      bottom: 28px;
      left: 50%;
      transform: translateX(-50%);
      width: 130px;
      min-height: 40px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 4px;
    }

    .ball {
      width: 16px;
      height: 16px;
      border-radius: 50%;
      display: inline-block;
    }

    .proton {
      background: #e74c3c; /* rosso */
    }

    .neutron {
      background: #bdc3c7; /* grigio */
    }

    .number-panel {
      margin-top: 8px;
      font-size: 15px;
      line-height: 1.5;
    }

    .number-panel span {
      font-weight: 600;
    }

    .controls {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 6px;
    }

    .controls button {
      padding: 6px 10px;
      font-size: 13px;
      border-radius: 4px;
      border: 1px solid #555;
      background: #f3f3f3;
      cursor: pointer;
      min-width: 120px;
    }

    .controls button:hover {
      background: #e0e0e0;
    }

    #hint {
      margin-top: 8px;
      font-size: 13px;
      font-style: italic;
      min-height: 18px;
    }
  </style>
</head>
<body>
  <h2>Bilancia del nucleo</h2>
  <p class="label">
    Aggiungi o togli <strong>protoni</strong> (rossi) e <strong>particelle neutre</strong> (grigie).  
    Ogni particella aumenta di circa 1 unità la massa del nucleo.
  </p>

  <div class="plate-wrapper">
    <div class="plate-base"></div>
    <div class="plate"></div>
    <div id="nucleus" class="nucleus"></div>
  </div>

  <div class="number-panel">
    <div>Protoni: <span id="protonCount">0</span></div>
    <div>Particelle neutre: <span id="neutronCount">0</span></div>
    <div>Massa totale (≈): <span id="massTotal">0</span> unità</div>
  </div>

  <div class="controls">
    <button type="button" onclick="changeProtons(1)">+ 1 protone</button>
    <button type="button" onclick="changeProtons(-1)">– 1 protone</button>
    <button type="button" onclick="changeNeutrons(1)">+ 1 particella neutra</button>
    <button type="button" onclick="changeNeutrons(-1)">– 1 particella neutra</button>
    <button type="button" onclick="resetAll()">Reset</button>
  </div>

  <p id="hint"></p>

  <script>
    let protonNumber = 0;
    let neutronNumber = 0;
    const maxParticles = 30; // limite per non riempire troppo

    function renderNucleus() {
      const nucleusDiv = document.getElementById("nucleus");
      const protonSpan = document.getElementById("protonCount");
      const neutronSpan = document.getElementById("neutronCount");
      const massSpan = document.getElementById("massTotal");
      const hint = document.getElementById("hint");

      // aggiorna numeri
      protonSpan.textContent = protonNumber;
      neutronSpan.textContent = neutronNumber;
      const mass = protonNumber + neutronNumber;
      massSpan.textContent = mass;

      // pulisce il nucleo
      nucleusDiv.innerHTML = "";

      // disegna protoni rossi
      for (let i = 0; i < protonNumber; i++) {
        const b = document.createElement("div");
        b.className = "ball proton";
        nucleusDiv.appendChild(b);
      }

      // disegna particelle neutre grigie
      for (let i = 0; i < neutronNumber; i++) {
        const b = document.createElement("div");
        b.className = "ball neutron";
        nucleusDiv.appendChild(b);
      }

      // piccolo commento didattico
      if (mass === 0) {
        hint.textContent = "Aggiungi protoni e particelle neutre per creare un nucleo.";
      } else if (protonNumber === 1 && neutronNumber === 0) {
        hint.textContent = "1 protone, 0 particelle neutre: massa ≈ 1, come nell'idrogeno-1.";
      } else if (protonNumber === neutronNumber) {
        hint.textContent = "Protoni e particelle neutre sono uguali: massa ≈ " + mass + ".";
      } else {
        hint.textContent = "La massa del nucleo cresce con protoni + particelle neutre = " + mass + ".";
      }
    }

    function changeProtons(delta) {
      protonNumber += delta;
      if (protonNumber < 0) protonNumber = 0;
      if (protonNumber + neutronNumber > maxParticles) {
        protonNumber -= delta;
        return;
      }
      renderNucleus();
    }

    function changeNeutrons(delta) {
      neutronNumber += delta;
      if (neutronNumber < 0) neutronNumber = 0;
      if (protonNumber + neutronNumber > maxParticles) {
        neutronNumber -= delta;
        return;
      }
      renderNucleus();
    }

    function resetAll() {
      protonNumber = 0;
      neutronNumber = 0;
      renderNucleus();
    }

    // disegno iniziale
    renderNucleus();
  </script>
</body>
</html>
